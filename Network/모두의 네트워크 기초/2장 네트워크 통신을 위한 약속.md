#### 네트워크의 규칙

- 프로토콜이란?

  - 컴퓨터나 원거리 통신 장비 사이에서 메세지를 주고받는 양식과 규칙의 체계

  - OSI 7계층

  - TCP/IP 4계층

---

#### OSI 7계층

| 계층                    | 설명                                              |
| ----------------------- | ------------------------------------------------- |
| 응용 계층(7계층)        | 사용자와 애프리케이션 간의 소통(이메일, 웹사이트) |
| 표현 계층(6계층)        | 데이터 표현 정의 (암호화, 데이터 압축)            |
| 세션 계층(5계층)        | 통신을 설정, 관리, 종료                           |
| 전송 계층(4계층)        | 신뢰성 있는 정확한 데이터 전달                    |
| 네트워크 계층(3계층)    | 네트워크 장치 간의 경로 선택과 데이터 전송        |
| 데이터 링크 계층(2계층) | 물리적인 연결을 통해 오류 없는 데이터 전달        |
| 물리 계층(1계층)        | 전기 신호를 이용해서 통신 케이블로 데이터를 전송  |

이와 같이 계층을 나누면

1. 통신이 일어나는 과정을 단계별로 확인 가능

2. 통신에 문제가 생겼을때 원인 파악 및 해결 쉬움

---

#### TCP/IP 4계층

- OSI 7계층 축약된 계층 -> 실질적인 표준이라 생각하면 됨

| 계층                            | 설명                                                         |
| ------------------------------- | ------------------------------------------------------------ |
| 응용 계층(4계층)                | 사용자와 애프리케이션 간의 소통(이메일, 웹사이트)            |
| 전송 계층(3계층)                | 데이터 전송 및 흐름에 신뢰성 보장                            |
| 인터넷 계층(2계층)              | 물리적으로 데이터가 네트워크를 통해 어떻게 전송되는지를 정의 |
| 네트워크 인터페이스 계층(1계층) | 데이터를 전기 신호로 변환한 뒤 데이터 전송                   |

---

#### OSI 7계층 데이터 표현

- 응용 , 표현, 세션 계층 -> 데이터 또는 메서지라 표현

- 전송 계층 -> 세그먼트

- 너트워크 계층 -> 패킷

- 데이터 링크 계층 -> 프레임

- 물리 계층 -> 비트

- 이메일로 예시 하면

  - 데이터는 이메일의 본문

  - 세그먼트는 포트번호

    - 포트번호-> 애플리케이션을 구분하기 위한 번호

      - 내가 사용하고자 하는 것이 검색 인지 이메일 전송인지 구분

  - 패킷은 송, 수신자의 IP 주소

    - IP 주소 -> 각각의 장체 부여된 고유 주소

      - 네트워크 계층에서 사용

  - 프레임은 송, 수신자의 MAC 주소

    - MAC 주소 -> 하드웨어 장치에 할당된 주소(기기 고유 주소)

      - 데이터 링크 계층에서 사용

---

#### 캡슐화와 역캡슐화의 흐름

각 계층을 지나면서 덧븉여지는 정보를 헤더(header)라고 하며 해더가 추가되는 과정을 캡슐화, 헤더가 분리되는 과정을 역캡슐화라고 한다.

    1. 캡슐화

    +-----------------------+
    |    응용 계층(7계층)     |   ← 데이터 생성
    +-----------------------+
               ↓
    +-----------------------+
    |    표현 계층(6계층)     |   ← 데이터 형식 변환, 암호화
    +-----------------------+
               ↓
    +-----------------------+
    |    세션 계층(5계층)     |   ← 세션 정보 추가
    +-----------------------+
               ↓
    +-----------------------+
    |    전송 계층(4계층)     |   ← TCP/UDP 헤더 추가
    +-----------------------+
               ↓
    +-----------------------+
    |    네트워크 계층(3계층)  |   ← IP 헤더 추가
    +-----------------------+
               ↓
    +-----------------------+
    |    데이터 링크 계층(2계층)|   ← MAC 주소 추가
    +-----------------------+
               ↓
    +-----------------------+
    |    물리 계층(1계층)     |   ← 비트 전송
    +-----------------------+

    2. 역캡슐화

    +-----------------------+
    |    물리 계층(1계층)   |   ← 비트 수신
    +-----------------------+
               ↑
    +-----------------------+
    |    데이터 링크 계층(2계층)|   ← MAC 주소 제거
    +-----------------------+
               ↑
    +-----------------------+
    |    네트워크 계층(3계층)  |   ← IP 헤더 제거
    +-----------------------+
               ↑
    +-----------------------+
    |    전송 계층(4계층)     |   ← TCP/UDP 헤더 제거
    +-----------------------+
               ↑
    +-----------------------+
    |    세션 계층(5계층)     |   ← 세션 정보 제거
    +-----------------------+
               ↑
    +-----------------------+
    |    표현 계층(6계층)     |   ← 데이터 형식 복원
    +-----------------------+
               ↑
    +-----------------------+
    |    응용 계층(7계층)     |   ← 사용자에게 데이터 전달
    +-----------------------+

---

#### VPN

- 보안이 필요한 네트워크가 있다고 가정하면 VPN을 사용해야한다.

- VPN(Virtual Private Network, 가상사설망)은 인터넷을 통해 데이터를 안전하게 전송하기 위한 기술

- 동작 방식

  - VPN 클라이언트 소프트웨어 설치

  - VPN 서버 연결 및 인증

  - 데이터 암호화

  - 터널링

    - 네트워크 사이에 통로를 생성하는 것

- VPN 종류

  | 구분      | IPSec VPN       | SSL VPN              |
  | --------- | --------------- | -------------------- |
  | OSI 7계층 | 3계층           | 4 ~ 7계층            |
  | 암호화    | IP 패킷 암호화  | 데이터 암호화        |
  | 접속 방법 | 스프트웨어 설치 | 웹 브라우저에서 접속 |

---

#### 용어 정리

- 프로토컬: 컴푸터나 원거리 통신 장비 사이에서 메세지를 주고 받는 양식과 규칙의 세계

- OSI 7계층: 컴퓨터와 컴퓨터가 통신하는 구조를 7개의 계층으로 정의해둔 약속 즉 프로토컬

- TCP/IP 4계층: OSI 7계층 이론을 기반으로 만들어진 인터넷 표준이 TCP/IP 4계층

- 캡슐화: 메 계츰마다 데이터에 헤더 정보를 하나씩 추가하는 과정

- 트레일러: 데이터를 전달할때 데이터의 마지막에 추가하는 정보 오류 검출용도

- VPN: 인터넷을 통해 데이터를 안전하게 전송하기 위한 기술
